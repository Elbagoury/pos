this code written in point_of_sale.assets.js in below


/* /fuel_pos/static/src/js/pumps.js defined in bundle 'point_of_sale.assets' */
odoo.define('pos_screen.pumps',function(require){"use strict";var PosBaseWidget=require('point_of_sale.BaseWidget');var gui=require('point_of_sale.gui');var models=require('point_of_sale.models');var screens=require('point_of_sale.screens');var PopupWidget=require('point_of_sale.popups')
var core=require('web.core');var Model=require('web.DataModel');var bus=require('bus.bus');var session=require('web.session');var QWeb=core.qweb;var _t=core._t;models.load_models({model:'dom.pump',fields:[],domain:[['is_active','=',true]],loaded:function(self,pump){self.pump=pump},});models.load_models({model:'dom.nozle',fields:[],domain:[['is_active','=',true]],loaded:function(self,nozle){self.nozle=nozle},});var _super_posmodel=models.PosModel.prototype;models.PosModel=models.PosModel.extend({get_nozle_by_id:function(nozle_id){var total_nozles=this.nozle;for(var i=0;i<total_nozles.length;i++){if(total_nozles[i].id==nozle_id){return total_nozles[i];}}
return false;},nozle_confirmation_with_db:function(nozle_id,status){if(nozle_id){new Model('dom.nozle').call('get_nozle_request_from_pos',[parseInt(nozle_id),status]).then(function(callback){console.log(callback);});}},change_nozle_state:function(nozle_id,state){var nozle=this.get_nozle_by_id(nozle_id)
if(state=='approve'){nozle.state='reserved'}else{nozle.state=state}
this.change_nozle_image_according_to_state(nozle);},change_nozle_image_according_to_state:function(nozle){var nozle_div=$("[data-nozle-id='"+nozle.id+"']")
if(nozle.state=='idle'){var nozle_img=nozle_div.find('img').attr('src',"/fuel_pos/static/src/img/idle.png")
return"/fuel_pos/static/src/img/idle.png"}
if(nozle.state=='requested'){var nozle_img=nozle_div.find('img').attr('src',"/fuel_pos/static/src/img/requested.gif")
return"/fuel_pos/static/src/img/requested.gif"}
if(nozle.state=='reserved'){var nozle_img=nozle_div.find('img').attr('src',"/fuel_pos/static/src/img/reserved.png")
return"/fuel_pos/static/src/img/reserved.png"}
if(nozle.state=='denied'){var nozle_img=nozle_div.find('img').attr('src',"/fuel_pos/static/src/img/idle.png")
return"/fuel_pos/static/src/img/idle.png"}
return"/fuel_pos/static/src/img/idle.png"},open_nozle_approval_pop_up:function(nozle_id){var self=this;var nozle=self.get_nozle_by_id(nozle_id);if(nozle.state=='requested'){self.gui.show_popup('nozle-approval',{'title':nozle.name,'id':nozle.id,'nozle':nozle.name,'image_url':"data:image/png;base64,"+nozle.image});}},get_nozles_by_pump:function(pump){var nozle_list=[]
var total_nozles=this.nozle;for(var i=0,len=total_nozles.length;i<len;i++){if((total_nozles[i].dom_pump_id)&&(total_nozles[i].dom_pump_id[0]==pump.id)){nozle_list.push(total_nozles[i])}}
return nozle_list},get_pump_by_nozle:function(nozle){for(var i=0;i<this.pump.length;i++){var pump_nozle_ids=this.pump[i].dom_nozle_ids;for(var j=0;j<pump_nozle_ids.length;j++){if(nozle.id==pump_nozle_ids[j]){return this.pump[i];}}}},get_nozle_image_url:function(nozle){return window.location.origin+'/web/image?model=dom.nozle&field=image&id='+nozle.id;},change_nozle_info:function(nozle_id,vehicle_info){var nozle=this.get_nozle_by_id(nozle_id);nozle.vehicle_info=vehicle_info
new Model('dom.nozle').call('nozle_vehicle_info_in_reserved_state',[parseInt(nozle_id),vehicle_info]).then(function(callback){console.log(callback);});},change_nozle_capacity_info:function(notifications){if(!(notifications.hasOwnProperty("nozle_id")&&notifications.hasOwnProperty("available_fuel"))){return false;}else{var nozle=this.get_nozle_by_id(notifications['nozle_id']);var pump=this.get_pump_by_nozle(nozle);var available_fuel=notifications['available_fuel']||0;var consumed_fuel=notifications['consumed_fuel']||0;var left_fuel=notifications['left_fuel']||0;var fuel_capacity_div=$('#pump-'+pump.id)
fuel_capacity_div.find('.available_fuel').text(available_fuel);fuel_capacity_div.find('.consumed_fuel').text(consumed_fuel);fuel_capacity_div.find('.left_fuel').text(left_fuel);}}});var DomPumpWidget=PosBaseWidget.extend({template:'DomPumpWidget',init:function(parent,options){var self=this;this._super(parent,options);this.pump_list=options.pump_list||null;this.bus_nozle=bus.bus;var nozle_channel_name="pos.nozle_polling";var new_channel=this.get_nozle_full_channel_name(nozle_channel_name);this.bus_nozle.add_channel(new_channel);this.pos.ready.then(function(){self.start_nozle_longpolling();});this.click_nozle_handler=function(){var nozle_id=$('.nozle',this).data('nozle-id');self.pos.open_nozle_approval_pop_up(nozle_id);};},start_nozle_longpolling:function(){var self=this;this.bus_nozle.on("notification",this,this.on_nozle_notification);},on_nozle_notification:function(notifications){if(notifications){if(this.get_nozle_full_channel_name('pos.nozle_polling')==notifications[0][0]){var self=this;var result=notifications[0][1];var nozle=this.pos.get_nozle_by_id(result["nozle_id"]);nozle.state='requested'
nozle.image=notifications[0][1].image
self.pos.change_nozle_image_according_to_state(nozle);self.pos.change_nozle_capacity_info(notifications[0][1])}}},get_nozle_full_channel_name:function(channel_name){return JSON.stringify([session.db,channel_name,String(this.pos.config.id)]);},replace:function($target){this.renderElement();var target=$target[0];target.parentNode.replaceChild(this.el,target);},renderElement:function(){var el_str=QWeb.render(this.template,{widget:this});var el_node=document.createElement('div');el_node.innerHTML=el_str;el_node=el_node.childNodes[1];if(this.el&&this.el.parentNode){this.el.parentNode.replaceChild(el_node,this.el);}
this.el=el_node;var pump_list_container=el_node.querySelector('.pump-list');for(var i=0,len=this.pump_list.length;i<len;i++){var pump_nozle_container=document.createElement('div');pump_nozle_container.className="pump-nozle-block";var pump_node=this.render_pump(this.pump_list[i]);pump_nozle_container.appendChild(pump_node);var nozles=this.pos.get_nozles_by_pump(this.pump_list[i]);var nozles_node=this.render_nozle(nozles);pump_nozle_container.appendChild(nozles_node);pump_list_container.appendChild(pump_nozle_container)}},render_nozle:function(nozles){var self=this;var nozles_node=document.createElement('div');nozles_node.className="nozles-block";for(var i=0;i<nozles.length;i++){var nozle_node=document.createElement('div');var nozle_html=QWeb.render('Nozle',{widget:this,nozle:nozles[i],image_url:self.pos.change_nozle_image_according_to_state(nozles[i]),});nozle_node.innerHTML=nozle_html;nozle_node=nozle_node.childNodes[1];nozle_node.addEventListener('click',this.click_nozle_handler);nozles_node.appendChild(nozle_node);}
return nozles_node;},get_pump_image_url:function(pump){return window.location.origin+'/web/image?model=dom.pump&field=image&id='+pump.id;},render_pump:function(pump){var pump_html=QWeb.render('Pump',{widget:this,pump:pump,image_url:this.get_pump_image_url(pump),});var pump_node=document.createElement('div');pump_node.innerHTML=pump_html;pump_node=pump_node.childNodes[1];return pump_node;},});screens.ProductScreenWidget.include({start:function(){var self=this;this._super()
this.dompump_widget=new DomPumpWidget(this,{pump_list:this.pos.pump});this.dompump_widget.replace(this.$('.placeholder-DomPumpWidget'));},});var NozleApprovalPopupWidget=PopupWidget.extend({template:'NozleApprovalPopupWidget',init:function(parent,args){this._super(parent,args);this.options={};this.popup_cache=new screens.DomCache();},events:_.extend({},PopupWidget.prototype.events,{'click .button.approve':'click_approve','click .button.denied':'click_denied'}),click_approve:function(){var nozle_id=this.$('.id').val();var vehicle_info=this.$('input[name="vehicle_info"]').val();this.pos.change_nozle_state(nozle_id,'approve');this.pos.change_nozle_info(nozle_id,vehicle_info)
this.pos.nozle_confirmation_with_db(nozle_id,'approve');this.gui.close_popup();},click_denied:function(){var nozle_id=this.$('.id').val();this.pos.change_nozle_state(nozle_id,'idle');this.pos.nozle_confirmation_with_db(nozle_id,'denied');this.gui.close_popup();},});gui.define_popup({name:'nozle-approval',widget:NozleApprovalPopupWidget});});;

/* /fuel_pos_make_order/static/src/js/fuel_pos_make_order.js defined in bundle 'point_of_sale.assets' */
odoo.define('fuel_pos_make_order.fuel_pos_make_order',function(require){"use strict";var PosBaseWidget=require('point_of_sale.BaseWidget');var gui=require('point_of_sale.gui');var models=require('point_of_sale.models');var screens=require('point_of_sale.screens');var PopupWidget=require('point_of_sale.popups')
var core=require('web.core');var Model=require('web.DataModel');var bus=require('bus.bus');var session=require('web.session');var QWeb=core.qweb;var _t=core._t;var _super_posmodel=models.PosModel.prototype;models.PosModel=models.PosModel.extend({initialize:function(){var self=this;_super_posmodel.initialize.apply(this,arguments);this.ready.then(function(){self.start_make_order_longpolling();});},start_make_order_longpolling:function(){var self=this;this.bus_make_order=bus.bus;var make_order_channel_name="pos.make_order";var make_order_channel=this.get_make_order_full_channel_name(make_order_channel_name);this.bus_make_order.add_channel(make_order_channel);this.bus_make_order.on("notification",this,this.on_notification_make_order);},on_notification_make_order:function(notifications){if(notifications){if(this.get_make_order_full_channel_name('pos.make_order')==notifications[0][0]){var self=this;var result=notifications[0][1];this.set_order_respect_to_nozle(result);this.change_nozle_capacity_info(notifications[0][1])}}},set_order_respect_to_nozle:function(result){var nozle=this.get_nozle_by_id(result["nozle_id"]);var order=this.add_new_order();this.make_nozle_in_idle_state(nozle.id)
order.set_nozle_of_order(nozle);order.set_vehicle_info_of_order(nozle.vehicle_info);var pump=this.get_pump_by_nozle(nozle)
if(nozle.product_id){var product=this.db.get_product_by_id(nozle.product_id[0]);order.add_product(product,{quantity:result['quantity']});}else{console.log("Nozle haven't any product.")}},get_make_order_full_channel_name:function(channel_name){return JSON.stringify([session.db,channel_name,String(this.config.id)]);},make_nozle_in_idle_state:function(nozle_id){if(!nozle_id){console.log("Not any selected Nozle!");return false;}
this.change_nozle_state(nozle_id,'idle');new Model('dom.nozle').call('make_nozle_in_idle_state',[parseInt(nozle_id)]).then(function(callback){console.log(callback);});},});models.load_fields("pos.order",['nozle_id','vehicle_info']);var _super_order=models.Order.prototype;models.Order=models.Order.extend({initialize:function(){_super_order.initialize.apply(this,arguments);this.nozle_id=this.nozle_id||false;this.vehicle_info=this.vehicle_info||false;},init_from_JSON:function(json){_super_order.init_from_JSON.apply(this,arguments);this.nozle_id=json.nozle_id||false;this.vehicle_info=json.vehicle_info||false;},set_nozle_of_order:function(nozle){this.nozle_id=nozle.id;this.trigger('change',this);},get_nozle_of_order:function(){return this.nozle_id;},set_vehicle_info_of_order:function(vehicle_info){this.vehicle_info=vehicle_info;this.trigger('change',this);},get_vehicle_info_of_order:function(){return this.vehicle_info;},export_as_JSON:function(){var json=_super_order.export_as_JSON.apply(this,arguments);json.nozle_id=this.nozle_id;json.vehicle_info=this.vehicle_info;return json;},});screens.PaymentScreenWidget.include({finalize_validation:function(){var self=this;this._super();var order=this.pos.get_order()
this.pos.make_nozle_in_idle_state(order.nozle_id)},});});;

/* /fuel_pos_token/static/src/js/fuel_pos_token.js defined in bundle 'point_of_sale.assets' */
odoo.define('fuel_pos_token.fuel_pos_token',function(require){"use strict";var gui=require('point_of_sale.gui');var screens=require('point_of_sale.screens');var core=require('web.core');var QWeb=core.qweb;var _t=core._t;var generate_car_wash_token=screens.ActionButtonWidget.extend({template:'car_wash_generate_token',button_click:function(){var chars='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';var token='';for(var i=0;i<10;i++){var randomCharIndex=Math.floor(Math.random()*chars.length);token+=chars[randomCharIndex];}
this.gui.show_popup('confirm',{'title':_t('Generate Car wash '),'body':_t('Generate car wash Token : ')+token,});},});screens.define_action_button({'name':'generate_car_wash_token','widget':generate_car_wash_token});var generate_coffee_token=screens.ActionButtonWidget.extend({template:'generate_coffee_token',button_click:function(){var chars='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';var token='';for(var i=0;i<10;i++){var randomCharIndex=Math.floor(Math.random()*chars.length);token+=chars[randomCharIndex];}
this.gui.show_popup('confirm',{'title':_t('Generate Coffee Token'),'body':_t('Generate Coffee Token : ')+token,});},});screens.define_action_button({'name':'generate_coffee_token','widget':generate_coffee_token});});
